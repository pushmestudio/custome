# オペレーションガイド
## チケット使用方針
### ストーリー
- Descriptionには完了基準を書く
- ストーリーポイント、優先度、"Story"、それぞれ適切なラベルを選ぶ
 * 優先順位の意味は次の通り(3/28 MTGにて合意)
 * 5(Urgent): 緊急対応項目用
 * 4: 中間リリース(6/14)まで
 * 3: 7月末まで
 * 2: 8月末まで(通常イテレーションの最後)
 * 1(Lowest): 他のすべてのチケットが終了している場合に取り掛かる
- マイルストーンはイテレーションを示す
- ユーザーストーリはいつでも誰でも追加OK
 * チームで合意前は"Story"及び"TBD"ラベルのみを付けておく

### タスク
- ストーリに紐づくタスクではSubjectの先頭にチケット番号(#xx)を書く
- "Task"をラベルとして記載する
- 原則、優先順位やストーリーポイントは付さない
- アサイン担当には誰かを割り当てる
- マイルストーンは適切なものを選ぶ

### マージリクエスト
次の内容をテンプレートとする
- 変更内容の概要
- テストケース実施のための事前準備
- テストケース
- やり残し、今回レビュー対象外のもの、その他

## 作業手順方針
1. 最新のマスターを取得する
    * `git checkout master; git pull --ff-only`

2. これからやろうとしている作業の固まりがわかるブランチを切る
    * `git checkout -b feature-動名詞-目的語` (e.g. feature-adding-boardName)

3. 作業の区切り毎にコミットする(一行目がNetwork欄に表示されるので長くなり過ぎないように注意)
    * `git add .; git commit -m "動詞(命令形) 目的語 #チケットNO"` 
  
    もし詳細を書いた方がいい場合は次のとおりにする
  
    `git add .; git commit` (エディタ起動)

    ```
    一行目 動詞(命令形) 目的語 #チケットNO 二行目
    (空行)
    三行目以降、自由記述による詳細
    ```
    尚、チケット記載の処理が次のコミットで終了、というタイミングの場合は、
    
    `git commit -m "動詞(命令形) 目的語 close #111, #108"`とすれば、チケット111と108が、マスターにマージされた後、自動で閉じる
  
4. commitしたらpush
    * `git push` (git configのpush.defaultを変更していない場合はgit push ブランチ名 とする必要がある)
  
5. ブランチ全体(チケット記載の処理の実装)が終わるまで3, 4繰り返し、作業途中でMasterの更新があれば可能な限り早いタイミングで取り込む
    * `git merge origin/master`
    * コンフリクトが発生したら、`git mergetool`あるいは、自分で各コンフリクト発生ファイルのコンフリクト発生箇所を特定して修正

6. チケット記載の処理の実装が終わったら最新のMasterを取り込んで(`git merge origin/master`)からマージリクエストの作成(GitLab上にて)、レビューを依頼

7. 再修正が必要な場合は、同じブランチ上(例えば、feature-adding-boardNameでマージリクエストを出していたなら同じくfeature-adding-boardName)で修正し、再Push。こうすれば、既存のマージリクエストが使いまわせる。

8. 無事マージされたら終了

その他、必要に応じて[リファレンス参照](http://qiita.com/tkhm/items/8d9d669e140aef63cdb9)