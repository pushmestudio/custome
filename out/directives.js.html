<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: directives.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: directives.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file mainApp.directivesというモジュールの定義。
 * カスタムディレクティブを定義している
 * @copyright (c) 2015 PushMe Studio
 */
angular.module('mainApp.directives', [])

/**
 * @module partDeleteToaster
 * @description undo()を含んだトーストを表示するためのdirective
 */
.directive('partDeleteToaster', [function() {
  return {
    template: 'Part Deleted.&lt;a class="undo" ng-click="undo()">UNDO&lt;/a>'
  };
}])

/**
 * @module draggablePart
 * @description drag可能な要素につける属性を定義したdirective
 */
.directive('draggablePart', function($ionicGesture, d){
  return {
    restrict: 'A',
    scope: false,
    link: function(scope, elem, attrs){
      // おまじない。これをしないとAndroid4.4系でdragイベントが正しく動作しない
      elem.bind("touchstart", function(event){
        event.preventDefault();
      });

      // ドラッグ中はCSSをtransformによって変化させることにより、移動しているように見せる
      $ionicGesture.on('drag', function(event){
        deltaX = event.gesture.deltaX;
        deltaY = event.gesture.deltaY;

        // transform3D
        elem.css('transform', 'translate3D(' + String(scope.deployedPart.position.x + deltaX) + 'px, '
                                             + String(scope.deployedPart.position.y + deltaY) + 'px, 1px)');
        elem.css('-webkit-transform', 'translate3D(' + String(scope.deployedPart.position.x + deltaX) + 'px, '
                                                    + String(scope.deployedPart.position.y + deltaY) + 'px, 1px)');
      }, elem);

      // ドラッグを離したら、離した位置にパーツを移動させる
      $ionicGesture.on('release', function(event){
        scope.deployedPart.position.x = scope.deployedPart.position.x + event.gesture.deltaX;
        scope.deployedPart.position.y = scope.deployedPart.position.y + event.gesture.deltaY;
      }, elem);
    }
  }
})
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-AdMobManager.html">AdMobManager</a></li><li><a href="module-AdsCtrl.html">AdsCtrl</a></li><li><a href="module-Boards.html">Boards</a></li><li><a href="module-BoardsCtrl.html">BoardsCtrl</a></li><li><a href="module-BoardsDetailCtrl.html">BoardsDetailCtrl</a></li><li><a href="module-d.html">d</a></li><li><a href="module-DBConn.html">DBConn</a></li><li><a href="module-draggablePart.html">draggablePart</a></li><li><a href="module-PalletCtrl.html">PalletCtrl</a></li><li><a href="module-partDeleteToaster.html">partDeleteToaster</a></li><li><a href="module-Parts.html">Parts</a></li><li><a href="module-WallpaperCtrl.html">WallpaperCtrl</a></li><li><a href="module-Wallpapers.html">Wallpapers</a></li></ul><h3>Global</h3><ul><li><a href="global.html#debugMode">debugMode</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Fri Mar 04 2016 20:40:16 GMT+0900 (東京 (標準時))
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
